# 디스플레이 품질 검사 시스템 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 프로젝트명
**Display Inspection POC (Proof of Concept)**

### 1.2 목적
USB 카메라를 활용한 실시간 디스플레이 품질 검사 시스템의 프로토타입 개발

### 1.3 대상 사용자
- 디스플레이 제조업체의 품질관리 담당자
- 디스플레이 검사 엔지니어
- 품질보증팀

## 2. 핵심 기능 요구사항

### 2.1 카메라 연동
- **USB 카메라 실시간 연결**
- **BGR → RGB 색상 변환 지원**
- **실시간 프레임 캡처 및 표시**

### 2.2 패널 감지
- **엣지 디텍션 기반 패널 영역 자동 감지**
- **밝은 영역 우선 감지 알고리즘**
- **스마트 영역 선택 (면적 + 사각형 정도 점수)**
- **대안 감지 방법 (중앙 영역 80% 사용)**

### 2.3 품질 검사 모듈

#### 2.3.1 스크래치 검출
- **엣지 기반 스크래치 감지**
- **모폴로지 연산을 통한 노이즈 제거**
- **스크래치 길이 및 심각도 평가**

#### 2.3.2 픽셀 결함 검출
- **데드픽셀 검출** (어두운 픽셀)
- **핫픽셀 검출** (밝은 픽셀)
- **스티킹픽셀 검출** (특정 색상 고정)
- **결함 심각도 등급화**

### 2.4 테스트 패턴 생성
- **단색 패턴** (빨강, 초록, 파랑, 흰색, 검정)
- **컬러 바 패턴**
- **체크보드 패턴**
- **그라데이션 패턴**
- **사용자 정의 크기 및 비율 설정**

### 2.5 실시간 결과 표시
- **품질 등급 (A, B, C, D급)**
- **결함 통계 (데드픽셀, 핫픽셀, 스티킹픽셀, 스크래치)**
- **실시간 업데이트**
- **상태 메시지 표시**

### 2.6 결과 저장
- **JSON 형식 구조화 데이터 저장**
- **인간이 읽기 쉬운 텍스트 보고서 생성**
- **타임스탬프 포함 자동 파일명 생성**

## 3. 기술 스펙

### 3.1 개발 환경
- **Python 3.13+**
- **OpenCV 4.8.0+**
- **PyQt5 5.15.0+**
- **NumPy 1.24.0+**
- **scikit-image 0.21.0+**

### 3.2 시스템 요구사항
- **운영체제**: macOS, Windows, Linux
- **메모리**: 최소 4GB RAM
- **카메라**: USB 연결 외부 카메라
- **디스플레이**: 검사 대상 디스플레이

### 3.3 아키텍처
```
display_inspection/
├── main.py                 # 메인 애플리케이션
├── camera_module.py        # 카메라 제어 모듈
├── edge_detection.py       # 패널 감지 모듈
├── scratch_detection.py    # 스크래치 검출 모듈
├── pixel_defect_detection.py # 픽셀 결함 검출 모듈
├── test_pattern_generator.py # 테스트 패턴 생성 모듈
├── inspection_controller.py # 검사 제어 모듈
├── test_app.py            # 테스트 모듈
├── requirements.txt        # 의존성 패키지
└── README.md              # 프로젝트 문서
```

## 4. 사용자 스토리

### 4.1 기본 워크플로우
1. **카메라 연결**: USB 카메라를 연결하고 애플리케이션에서 인식
2. **패널 감지**: 검사 대상 디스플레이의 패널 영역을 자동으로 감지
3. **테스트 패턴 생성**: 다양한 테스트 패턴을 생성하여 디스플레이에 표시
4. **품질 검사 실행**: 스크래치, 픽셀 결함 등을 실시간으로 검출
5. **결과 확인**: 실시간으로 검사 결과를 확인하고 품질 등급 확인
6. **결과 저장**: 검사 결과를 JSON 및 텍스트 형식으로 저장

### 4.2 고급 기능
- **사용자 정의 검사 영역 설정**
- **검사 파라미터 조정**
- **배치 검사 모드**
- **결과 비교 및 트렌드 분석**

## 5. 성능 요구사항

### 5.1 실시간 처리
- **프레임 레이트**: 최소 15 FPS
- **검사 지연시간**: 1초 이내
- **메모리 사용량**: 500MB 이하

### 5.2 정확도
- **패널 감지 정확도**: 95% 이상
- **결함 검출 정확도**: 90% 이상
- **거짓 양성률**: 5% 이하

## 6. 사용자 인터페이스

### 6.1 탭 구조
- **카메라**: 카메라 연결 및 설정
- **테스트 패턴**: 패턴 생성 및 패널 감지
- **검사 제어**: 검사 실행 및 결과 표시
- **설정**: 시스템 설정 및 파라미터 조정

### 6.2 실시간 표시
- **카메라 프리뷰**
- **생성된 패턴 미리보기**
- **검사 결과 실시간 업데이트**
- **상태 메시지 및 로그**

## 7. 확장성 계획

### 7.1 단기 계획 (1-3개월)
- **AI 기반 결함 분류**
- **다중 카메라 지원**
- **클라우드 연동**

### 7.2 중기 계획 (3-6개월)
- **모바일 앱 개발**
- **실시간 알림 시스템**
- **데이터베이스 연동**

### 7.3 장기 계획 (6-12개월)
- **머신러닝 모델 통합**
- **자동화 라인 연동**
- **국제 표준 준수**

## 8. 품질 보증

### 8.1 테스트 계획
- **단위 테스트**: 각 모듈별 기능 테스트
- **통합 테스트**: 전체 시스템 통합 테스트
- **사용자 테스트**: 실제 사용 환경에서의 테스트

### 8.2 성능 모니터링
- **메모리 사용량 모니터링**
- **CPU 사용률 추적**
- **검사 정확도 측정**

## 9. 보안 및 규정 준수

### 9.1 데이터 보안
- **검사 데이터 암호화**
- **개인정보 보호**
- **데이터 백업 및 복구**

### 9.2 산업 표준
- **ISO 9001 품질관리 시스템**
- **IEC 62304 의료기기 소프트웨어**
- **FDA 21 CFR Part 11 전자 기록**

## 10. 프로젝트 일정

### 10.1 Phase 1 (완료)
- ✅ 기본 프레임워크 구축
- ✅ 카메라 연동 구현
- ✅ 패널 감지 알고리즘 개발
- ✅ 기본 검사 모듈 구현

### 10.2 Phase 2 (진행 중)
- 🔄 UI/UX 개선
- 🔄 성능 최적화
- 🔄 테스트 케이스 확장

### 10.3 Phase 3 (계획)
- 📋 AI 모델 통합
- 📋 클라우드 연동
- 📋 모바일 지원

---

**문서 버전**: 1.0  
**작성일**: 2025-01-01  
**작성자**: Display Inspection Team  
**승인자**: Project Manager
