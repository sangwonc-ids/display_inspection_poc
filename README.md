# 디스플레이 검사 시스템
## Display Inspection System

고화질 카메라를 이용한 디스플레이 화면 스크래치 확인 및 RGB 픽셀 검사 시스템입니다.

## 주요 기능

### 1. 기본 검사 기능
- **스크래치 감지**: Canny 엣지 감지와 Hough 변환을 이용한 선형 스크래치 자동 감지
- **RGB 픽셀 분석**: 각 색상 채널의 통계 분석 및 색상 균일성 검사
- **실시간 카메라 캡처**: 고화질 카메라를 통한 실시간 이미지 캡처
- **결과 시각화**: 검사 결과를 직관적으로 표시

### 2. 고급 분석 기능
- **데드 픽셀 감지**: 비정상적으로 어두운 픽셀 자동 감지
- **핫 픽셀 감지**: 비정상적으로 밝은 픽셀 자동 감지
- **무라(Mura) 결함 감지**: 불균일한 밝기 영역 감지
- **색상 균일성 분석**: 그리드 기반 색상 분포 분석
- **픽셀 응답 분석**: 픽셀 강도 분포 및 동적 범위 분석
- **종합 품질 점수**: 전체적인 디스플레이 품질을 0-100점으로 평가

## 시스템 요구사항

### 하드웨어
- **카메라**: 4K 이상 고화질 카메라 (USB 3.0 이상 권장)
- **조명**: 균일한 조명 환경 (LED 패널 조명 권장)
- **컴퓨터**: 
  - CPU: Intel i5 이상 또는 동급 AMD 프로세서
  - RAM: 8GB 이상
  - 저장공간: 1GB 이상 여유 공간

### 소프트웨어
- Python 3.8 이상
- OpenCV 4.8 이상
- NumPy, Matplotlib, scikit-image
- tkinter (Python 기본 포함)

## 설치 방법

1. **저장소 클론**
```bash
git clone <repository-url>
cd inspection
```

2. **가상환경 생성 (권장)**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# 또는
venv\Scripts\activate  # Windows
```

3. **필요한 패키지 설치**
```bash
pip install -r requirements.txt
```

## 사용 방법

### 1. 기본 시스템 실행
```bash
python display_inspector.py
```

### 2. 고급 분석 실행
```bash
python advanced_analysis.py
```

### 3. GUI 사용법

#### 카메라 연결
1. "카메라 연결" 버튼 클릭
2. 카메라가 자동으로 4K 해상도로 설정됩니다

#### 이미지 캡처
1. "이미지 캡처" 버튼으로 실시간 캡처
2. 또는 "파일에서 로드"로 기존 이미지 로드

#### 검사 실행
1. **스크래치 검사**: 선형 스크래치 자동 감지
2. **RGB 분석**: 색상 채널별 상세 분석
3. **결과 저장**: JSON 형식으로 결과 저장

### 4. 프로그래밍 방식 사용

```python
from advanced_analysis import AdvancedDisplayAnalyzer
import cv2

# 이미지 로드
image = cv2.imread("display_image.jpg")

# 분석기 생성
analyzer = AdvancedDisplayAnalyzer()

# 종합 분석 실행
report = analyzer.create_analysis_report(image)

# 결과 출력
print(f"품질 점수: {report['overall_quality_score']:.1f}/100")
print(f"데드 픽셀: {report['dead_pixels']['count']}개")
print(f"스크래치: {report['mura_defects']['count']}개")

# 결과 시각화
analyzer.visualize_results(image, report, "analysis_result.png")
```

## 검사 항목 상세

### 1. 스크래치 감지
- **방법**: Canny 엣지 감지 + Hough 선 변환
- **임계값**: 조정 가능한 감도 설정
- **결과**: 스크래치 개수, 위치, 길이

### 2. RGB 픽셀 분석
- **통계**: 각 채널별 평균, 표준편차, 최대/최소값
- **분포**: 히스토그램 분석
- **균일성**: 색상 분산 계산

### 3. 데드 픽셀 감지
- **방법**: 로컬 평균과의 차이 분석
- **임계값**: 조정 가능 (기본값: 0.1)
- **결과**: 데드 픽셀 좌표 및 개수

### 4. 핫 픽셀 감지
- **방법**: 적응적 임계값 + 연결된 구성 요소 분석
- **필터링**: 최소 영역 크기로 노이즈 제거
- **결과**: 밝은 점의 중심 좌표 및 면적

### 5. 무라 결함 감지
- **방법**: 가우시안 필터를 이용한 배경 제거
- **분석**: 불균일한 밝기 영역 감지
- **결과**: 결함 영역의 위치 및 강도

## 결과 해석

### 품질 점수 기준
- **90-100점**: 우수 (A급)
- **80-89점**: 양호 (B급)
- **70-79점**: 보통 (C급)
- **60-69점**: 불량 (D급)
- **60점 미만**: 심각한 불량 (F급)

### 주요 지표
- **데드 픽셀**: 0개가 이상적, 10개 이상은 불량
- **핫 픽셀**: 0개가 이상적, 5개 이상은 불량
- **색상 균일성**: 0.9 이상이 양호
- **동적 범위**: 200 이상이 양호

## 문제 해결

### 카메라 연결 문제
1. 카메라 드라이버 확인
2. USB 포트 변경
3. 다른 카메라 앱에서 정상 작동 확인

### 성능 문제
1. 이미지 해상도 낮추기
2. 분석 영역 제한
3. 더 강력한 하드웨어 사용

### 정확도 문제
1. 조명 환경 개선
2. 카메라 초점 조정
3. 임계값 파라미터 조정

## 확장 가능성

### 추가 기능
- **자동화**: 연속 검사 및 자동 분류
- **데이터베이스**: 검사 결과 저장 및 추적
- **알림 시스템**: 불량 감지 시 자동 알림
- **보고서 생성**: PDF 형식의 상세 보고서

### 하드웨어 확장
- **다중 카메라**: 여러 각도 동시 검사
- **로봇 시스템**: 자동화된 검사 라인
- **특수 조명**: UV, IR 조명 추가

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 기여하기

버그 리포트, 기능 요청, 풀 리퀘스트를 환영합니다.

## 연락처

프로젝트 관련 문의사항이 있으시면 이슈를 생성해 주세요.
